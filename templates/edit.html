{% extends 'base.html' %}

{% block content %}
<h1>{% block title %} Edit "{{ recipe['title'] }}" {% endblock %}</h1>

<form method="post">
    <div class="form-group">
        <label>Title
            <input type="text" name="title" placeholder="Post title"
                   class="form-control"
                   value="{{ request.form['title'] or recipe['title'] }}">
        </label>
    </div>
    <table>
        <caption>Список ингредиентов</caption>
        <tr>
            <th>Ингредиент</th>
            <th>Количество</th>
        </tr>
        {% set i = 0 %}
        {% for key in ingredients %}
            <tr><td><label><input type="text" name="ingredient" required value="{{ request.form['title'] or key }}"></label></td><td><label><input type="text" name="quantity0" required value="{{ request.form['title'] or ingredients[key] }}"></label></td></tr>
            {% set i += 1 %}
        {% endfor %}
    </table>
    <div class="form-group">
        <label>Content
            <textarea name="recipe" placeholder="Post content"
                      class="form-control">{{ request.form['recipe'] or recipe['recipe'] }}</textarea>
        </label>
    </div>
    <div class="form-group">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
</form>
<hr>

{% endblock %}

